#!/usr/bin/python
import readspec
import argparse
from model import *

# Parse command line arguments
# ddctl.py -s <specfile.json> -m <cli | gui>

argparser = argparse.ArgumentParser(description='Parse a CTL formula')
argparser.add_argument('-s', '--specfile', help='specfile.json', required=True)
args = argparser.parse_args()

ks, ctlf = readspec.read_spec(args.specfile)

ksbdd = ksBDD(ks)

m = Model(ks, ctlf)

result = m.check()
print(reduce(mergecur, ksbdd.infer(result))) # test inference

# if m.check() == False:
#     print("Counterexample: ", m.counterexample)
# else:
#     print("The CTL formula is valid")
